{"version":3,"file":"js/admin.js","mappings":"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","sources":["webpack://custom-theme/./assets/js/admin.js"],"sourcesContent":["// JavaScript pour l'administration WordPress\nclass CustomThemeAdmin {\n    constructor() {\n        this.init();\n    }\n\n    init() {\n        this.initACFFields();\n        this.initCustomizerPreview();\n        this.bindAdminEvents();\n    }\n\n    initACFFields() {\n        // Améliorations pour les champs ACF\n        if (typeof acf !== 'undefined') {\n            // Validation personnalisée\n            acf.add_filter('validation_complete', (valid, form) => {\n                return this.validateCustomFields(valid, form);\n            });\n\n            // Actions sur les changements de champs\n            acf.add_action('change', (input) => {\n                this.handleFieldChange(input);\n            });\n        }\n    }\n\n    validateCustomFields(valid, form) {\n        // Validation personnalisée des champs ACF\n        const titleField = form.find('[data-name=\"title\"]');\n        if (titleField.length && !titleField.val().trim()) {\n            titleField.addClass('error');\n            valid = false;\n        }\n\n        return valid;\n    }\n\n    handleFieldChange(input) {\n        const fieldName = input.attr('data-name');\n        const fieldValue = input.val();\n\n        switch(fieldName) {\n            case 'title':\n                this.updatePreview('title', fieldValue);\n                break;\n            case 'content':\n                this.updatePreview('content', fieldValue);\n                break;\n        }\n    }\n\n    updatePreview(field, value) {\n        // Mise à jour du preview en temps réel\n        const preview = document.querySelector('.acf-block-preview');\n        if (preview) {\n            const element = preview.querySelector(`[data-field=\"${field}\"]`);\n            if (element) {\n                element.textContent = value;\n            }\n        }\n    }\n\n    initCustomizerPreview() {\n        // Support pour le Customizer WordPress\n        if (typeof wp !== 'undefined' && wp.customize) {\n            wp.customize('blogname', (value) => {\n                value.bind((newval) => {\n                    document.querySelector('.site-title').textContent = newval;\n                });\n            });\n        }\n    }\n\n    bindAdminEvents() {\n        // Événements spécifiques à l'admin\n        document.addEventListener('click', (e) => {\n            if (e.target.matches('.block-editor-block-list__block')) {\n                this.handleBlockSelect(e.target);\n            }\n        });\n    }\n\n    handleBlockSelect(block) {\n        // Actions lors de la sélection d'un bloc\n        if (block.classList.contains('wp-block-custom-theme-custom-block')) {\n            this.highlightCustomFields();\n        }\n    }\n\n    highlightCustomFields() {\n        // Mettre en évidence les champs ACF correspondants\n        const acfFields = document.querySelectorAll('.acf-field');\n        acfFields.forEach(field => {\n            field.classList.add('highlighted');\n            setTimeout(() => {\n                field.classList.remove('highlighted');\n            }, 2000);\n        });\n    }\n}\n\n// Initialisation pour l'admin\ndocument.addEventListener('DOMContentLoaded', () => {\n    if (document.body.classList.contains('wp-admin')) {\n        new CustomThemeAdmin();\n    }\n});\n\n// Support pour l'éditeur Gutenberg\nif (typeof wp !== 'undefined' && wp.blocks) {\n    wp.domReady(() => {\n        new CustomThemeAdmin();\n    });\n}\n"],"names":["CustomThemeAdmin","_classCallCheck","init","_createClass","key","value","initACFFields","initCustomizerPreview","bindAdminEvents","_this","acf","add_filter","valid","form","validateCustomFields","add_action","input","handleFieldChange","titleField","find","length","val","trim","addClass","fieldName","attr","fieldValue","updatePreview","field","preview","document","querySelector","element","concat","textContent","wp","customize","bind","newval","_this2","addEventListener","e","target","matches","handleBlockSelect","block","classList","contains","highlightCustomFields","acfFields","querySelectorAll","forEach","add","setTimeout","remove","body","blocks","domReady"],"sourceRoot":""}